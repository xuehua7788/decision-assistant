<!DOCTYPE html>
<html>
<head>
    <title>æµ‹è¯•å‰ç«¯ä¿®å¤</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>æµ‹è¯•æœŸæƒç­–ç•¥åç§°æå–</h1>
    
    <script>
        // æµ‹è¯•ç”¨ä¾‹1: ç›´æ¥åŒ…å«nameï¼ˆMSFTçš„æƒ…å†µï¼‰
        const optionStrategy1 = {
            "name": "é“é¹°å¼",
            "type": "iron_condor",
            "parameters": {}
        };
        
        // æµ‹è¯•ç”¨ä¾‹2: åµŒå¥—åœ¨strategyä¸­
        const optionStrategy2 = {
            "strategy": {
                "name": "ä¹°å…¥çœ‹æ¶¨æœŸæƒ",
                "type": "long_call"
            }
        };
        
        // æµ‹è¯•ç”¨ä¾‹3: éƒ½æ²¡æœ‰
        const optionStrategy3 = {
            "type": "unknown"
        };
        
        // æ—§ä»£ç ï¼ˆä¼šæŠ¥é”™ï¼‰
        console.log("=== æ—§ä»£ç æµ‹è¯• ===");
        try {
            console.log("æµ‹è¯•1:", optionStrategy1.strategy.name); // âŒ æŠ¥é”™
        } catch(e) {
            console.error("æµ‹è¯•1é”™è¯¯:", e.message);
        }
        
        try {
            console.log("æµ‹è¯•2:", optionStrategy2.strategy.name); // âœ… æˆåŠŸ
        } catch(e) {
            console.error("æµ‹è¯•2é”™è¯¯:", e.message);
        }
        
        // æ–°ä»£ç ï¼ˆä¸ä¼šæŠ¥é”™ï¼‰
        console.log("\n=== æ–°ä»£ç æµ‹è¯• ===");
        
        function getStrategyName(optionStrategy) {
            return optionStrategy.name || optionStrategy.strategy?.name || 'æœŸæƒç­–ç•¥';
        }
        
        console.log("æµ‹è¯•1:", getStrategyName(optionStrategy1)); // âœ… "é“é¹°å¼"
        console.log("æµ‹è¯•2:", getStrategyName(optionStrategy2)); // âœ… "ä¹°å…¥çœ‹æ¶¨æœŸæƒ"
        console.log("æµ‹è¯•3:", getStrategyName(optionStrategy3)); // âœ… "æœŸæƒç­–ç•¥"
        
        // æ˜¾ç¤ºç»“æœ
        document.body.innerHTML += `
            <h2>æµ‹è¯•ç»“æœ</h2>
            <div style="font-family: monospace; background: #f0f0f0; padding: 20px;">
                <h3>âœ… æ–°ä»£ç æµ‹è¯•é€šè¿‡ï¼š</h3>
                <p>æµ‹è¯•1 (MSFTæ ¼å¼): ${getStrategyName(optionStrategy1)}</p>
                <p>æµ‹è¯•2 (åµŒå¥—æ ¼å¼): ${getStrategyName(optionStrategy2)}</p>
                <p>æµ‹è¯•3 (æ— åç§°): ${getStrategyName(optionStrategy3)}</p>
                
                <h3>âŒ æ—§ä»£ç ä¼šæŠ¥é”™ï¼š</h3>
                <p style="color: red;">Cannot read properties of undefined (reading 'name')</p>
                
                <h3>ğŸ¯ ç»“è®ºï¼š</h3>
                <p style="color: green; font-weight: bold;">
                    æ–°ä»£ç ä½¿ç”¨å¯é€‰é“¾ (?.) å’Œå¤‡é€‰æ–¹æ¡ˆï¼Œå®Œç¾å…¼å®¹ä¸¤ç§æ•°æ®ç»“æ„ï¼
                </p>
            </div>
        `;
    </script>
</body>
</html>

