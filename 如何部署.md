# 🚀 如何部署 Decision Assistant

> **3分钟了解所有部署方案**

---

## 📖 文档导航

### 🎯 我应该看哪个文档？

```
第一次部署？
  └─ 👉 快速部署-选择你的方案.md (5分钟选择方案)
      └─ 👉 部署方案完整指南.md (详细步骤)
          └─ 👉 部署快速检查.md (验证部署)

遇到问题？
  └─ 👉 部署快速检查.md (问题诊断)
      └─ 👉 部署方案完整指南.md (常见问题)

想了解所有资源？
  └─ 👉 部署资源总览.md (所有文档和工具)
```

---

## ⚡ 最快开始

### 方式1: 一键配置（推荐）

**Windows:**
```bash
deploy-setup.bat
```

**Mac/Linux:**
```bash
chmod +x deploy-setup.sh
./deploy-setup.sh
```

脚本会自动：
- ✅ 引导选择部署方案
- ✅ 收集环境变量
- ✅ 创建配置文件
- ✅ 安装依赖
- ✅ 生成部署指引

---

### 方式2: 手动配置

#### 步骤 1: 选择方案

查看 `快速部署-选择你的方案.md`，选择：

| 需求 | 推荐方案 | 成本 |
|-----|---------|------|
| 🎓 学习/测试 | Vercel + Render | 免费 |
| 💼 小型项目 | Vercel + Railway | $5-10/月 |
| 🌍 全球用户 | Cloudflare + Fly.io | $3-5/月 |
| 🇨🇳 国内用户 | 阿里云/腾讯云 | $10-20/月 |
| 🔧 完全控制 | Docker + VPS | $5-20/月 |

#### 步骤 2: 按照指南部署

打开 `部署方案完整指南.md`，找到你选择的方案章节，按步骤操作。

#### 步骤 3: 验证部署

使用 `部署快速检查.md` 确保所有步骤完成。

---

## 🌟 推荐方案

### ⭐ 最推荐: Vercel + Railway

**适合：** 大多数用户（个人、创业、小团队）

**优点：**
- ✅ 部署超简单（10分钟完成）
- ✅ 无休眠，始终在线
- ✅ 性能稳定
- ✅ 自动 HTTPS
- ✅ 成本合理（$5-10/月）

**快速步骤：**

1. **部署后端到 Railway** (5分钟)
   ```
   → 访问 railway.app
   → 用GitHub登录
   → 导入仓库
   → 设置 Root Directory: backend
   → 添加环境变量: DEEPSEEK_API_KEY
   → 生成域名
   ```

2. **部署前端到 Vercel** (3分钟)
   ```bash
   npm install -g vercel
   cd frontend
   vercel --prod
   ```

3. **连接** (2分钟)
   ```
   → Vercel 添加环境变量: REACT_APP_API_URL
   → 重新部署
   ```

**总耗时：10分钟** ✅

**详细步骤：** 查看 `部署方案完整指南.md` → 方案2

---

### 💰 免费方案: Vercel + Render

**适合：** 学生、个人学习、测试

**优点：**
- ✅ 完全免费
- ✅ 部署简单
- ✅ 满足学习需求

**缺点：**
- ⚠️ 后端15分钟无活动会休眠
- ⚠️ 首次访问需30-60秒唤醒

**快速步骤：**

1. 部署后端到 Render (5分钟)
2. 部署前端到 Vercel (3分钟)
3. 连接 (2分钟)

**总耗时：10分钟** ✅

**详细步骤：** 查看 `部署方案完整指南.md` → 方案1

---

## 🔧 准备工作

### 必需

- [x] GitHub 账号
- [x] DeepSeek API Key
  - 访问：https://platform.deepseek.com
  - 注册并创建 API Key

### 需要安装

- [x] Git
- [x] Node.js (16+)
- [x] Python (3.9+)

### 推荐工具

- [ ] Vercel CLI: `npm install -g vercel`
- [ ] Git 客户端
- [ ] VS Code

---

## 📋 快速检查清单

### 部署前

- [ ] 代码已推送到 GitHub
- [ ] 获得 DeepSeek API Key
- [ ] 选定部署方案
- [ ] 本地测试通过

### 部署步骤

- [ ] 部署后端
- [ ] 测试后端健康检查
- [ ] 部署前端
- [ ] 配置环境变量
- [ ] 连接前后端

### 部署后

- [ ] 访问前端 URL
- [ ] 测试 Decision Analysis
- [ ] 测试 Chat Mode
- [ ] 测试 Chat Viewer
- [ ] 浏览器无 CORS 错误

---

## ❓ 常见问题速查

### Q: 哪个方案最好？

**A:** 
- 免费学习 → Render
- 稳定可靠 → Railway ⭐ 推荐
- 全球快速 → Fly.io

### Q: 需要多长时间？

**A:** 10-15分钟（使用 Vercel + Render/Railway）

### Q: 需要多少钱？

**A:**
- 免费方案：$0（Render）
- 推荐方案：$5-10/月（Railway）

### Q: 部署后显示 CORS 错误？

**A:** 检查后端 CORS 配置是否包含前端域名
→ 详见 `部署方案完整指南.md` → 常见问题 Q5

### Q: 后端很慢或无响应？

**A:** 
- Render 免费版会休眠，首次访问需30-60秒
- 解决：升级到付费版或切换到 Railway

### 更多问题？

→ 查看 `部署方案完整指南.md` → 常见问题 (Q1-Q8)

---

## 📚 所有文档

| 文档 | 用途 | 阅读时间 |
|-----|------|---------|
| **如何部署.md** | 本文档，快速概览 | 3分钟 |
| **快速部署-选择你的方案.md** | 选择最适合的方案 | 5分钟 |
| **部署方案完整指南.md** | 详细部署步骤 | 20-30分钟 |
| **部署快速检查.md** | 部署验证清单 | 边做边看 |
| **部署资源总览.md** | 所有资源汇总 | 10分钟 |
| **VERCEL_DEPLOYMENT_GUIDE.md** | Vercel 专项指南 | 20分钟 |

---

## 🛠️ 所有工具

| 工具 | 用途 | 平台 |
|-----|------|------|
| `deploy-setup.bat` | 一键配置 | Windows |
| `deploy-setup.sh` | 一键配置 | Mac/Linux |
| `start-local.bat` | 本地启动 | Windows |
| `start-local.sh` | 本地启动 | Mac/Linux |
| `test-deployment.bat` | 测试部署 | Windows |
| `test-deployment.sh` | 测试部署 | Mac/Linux |

---

## 🎯 开始部署

### 新手推荐路径

```
1. 运行配置脚本
   deploy-setup.bat (Windows) 或 ./deploy-setup.sh (Mac/Linux)
   
2. 选择方案
   推荐选择 "2) Vercel + Railway"
   
3. 输入信息
   - DeepSeek API Key
   - 域名（部署后填写）
   
4. 查看生成的指引
   脚本会显示详细的部署步骤
   
5. 按照指引操作
   通常10-15分钟完成
   
6. 验证部署
   使用 test-deployment 脚本测试
```

### 高级用户路径

```
1. 阅读：快速部署-选择你的方案.md
2. 选择方案
3. 手动配置环境变量
4. 参考：部署方案完整指南.md
5. 部署并验证
```

---

## 🌐 平台链接

### 部署平台

- [Vercel](https://vercel.com) - 前端部署
- [Render](https://render.com) - 后端部署（免费）
- [Railway](https://railway.app) - 后端部署（推荐）
- [Fly.io](https://fly.io) - 后端部署（高级）
- [Cloudflare Pages](https://pages.cloudflare.com) - 前端部署（CDN）

### API 服务

- [DeepSeek](https://platform.deepseek.com) - AI API

---

## ✅ 成功标志

部署成功后，你应该能：

1. ✅ 访问前端 URL，看到界面
2. ✅ 后端健康检查返回 `{"status":"ok"}`
3. ✅ Decision Analysis 可以分析决策
4. ✅ Chat Mode 可以对话
5. ✅ Chat Viewer 可以查看记录
6. ✅ 浏览器控制台无错误

---

## 🎉 立即开始

### Windows
```bash
# 双击运行
deploy-setup.bat
```

### Mac/Linux
```bash
chmod +x deploy-setup.sh
./deploy-setup.sh
```

### 或手动开始

1. 打开 `快速部署-选择你的方案.md`
2. 选择适合的方案
3. 查看 `部署方案完整指南.md` 对应章节
4. 开始部署！

---

**祝您部署顺利！** 🚀

有问题？查看详细文档或在 GitHub Issues 提问。

---

**版本:** 1.0  
**更新:** 2025-10-14  
**团队:** Decision Assistant

