# ğŸ“‹ æŸ¥çœ‹ç”¨æˆ·èŠå¤©è®°å½•æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æœ¬é¡¹ç›®æä¾›äº†å¤šç§æ–¹å¼æ¥æŸ¥çœ‹å’Œç®¡ç†ç”¨æˆ·çš„èŠå¤©è®°å½•ã€‚

---

## ğŸ”§ ä½¿ç”¨å·¥å…·

### 1ï¸âƒ£ **åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·å’Œä¼šè¯**

```bash
python list_users.py
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
================================================================================
ğŸ‘¥ æ‰€æœ‰ç”¨æˆ·
================================================================================
æ€»ç”¨æˆ·æ•°: 1

ğŸ“§ testuser_2186089695936
   åˆ›å»ºæ—¶é—´: ee94a1e4f4cbb4976a21d56955966f01
   æœ‰å¯†ç : âœ…

================================================================================
ğŸ’¬ æ‰€æœ‰èŠå¤©ä¼šè¯
================================================================================
æ€»ä¼šè¯æ•°: 5

ğŸ“ test
   æ¶ˆæ¯æ•°: 2
   é¦–æ¡æ¶ˆæ¯: ç»™æˆ‘ä¹°æˆ¿å­å»ºè®®...
```

---

### 2ï¸âƒ£ **æŸ¥çœ‹ç‰¹å®šä¼šè¯çš„è¯¦ç»†å†…å®¹**

```bash
python quick_view_chat.py <session_id>
```

**ç¤ºä¾‹ï¼š**
```bash
python quick_view_chat.py test
python quick_view_chat.py 4e37bb85-c3a6-4eaf-9ec7-b81ce6ca5d5f
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
================================================================================
ğŸ“ ä¼šè¯ID: test
================================================================================
æ¶ˆæ¯æ€»æ•°: 2

--------------------------------------------------------------------------------
[1] USER

ç»™æˆ‘ä¹°æˆ¿å­å»ºè®®

[1] ASSISTANT

ä»¥ä¸‹æ˜¯ä¹°æˆ¿çš„ç®€æ˜å»ºè®®ï¼Œå¸®åŠ©ä½ åšå‡ºæ˜æ™ºå†³ç­–ï¼š
...
```

---

### 3ï¸âƒ£ **äº¤äº’å¼æŸ¥çœ‹å·¥å…·**

```bash
python view_user_chat.py
```

**åŠŸèƒ½èœå•ï¼š**
```
è¯·é€‰æ‹©æ“ä½œ:
1. æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
2. æŸ¥çœ‹æ‰€æœ‰èŠå¤©ä¼šè¯
3. æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„èŠå¤©
4. æŸ¥çœ‹æŒ‡å®šä¼šè¯çš„è¯¦ç»†å†…å®¹
5. é€€å‡º
```

---

## ğŸŒ ä½¿ç”¨APIç›´æ¥æŸ¥è¯¢

### **æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·**
```bash
curl https://decision-assistant-backend.onrender.com/api/admin/users
```

### **æŸ¥çœ‹æ‰€æœ‰èŠå¤©ä¼šè¯**
```bash
curl https://decision-assistant-backend.onrender.com/api/admin/chats
```

### **æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„èŠå¤©**
```bash
curl https://decision-assistant-backend.onrender.com/api/admin/chats/<username>
```

---

## ğŸ“Š æ•°æ®å­˜å‚¨ä½ç½®

### **ç”Ÿäº§ç¯å¢ƒ (Render)**
- **ä½ç½®**: `/opt/render/project/src/backend/chat_data/`
- **æ ¼å¼**: JSONæ–‡ä»¶ï¼Œæ¯ä¸ªä¼šè¯ä¸€ä¸ªæ–‡ä»¶

### **æœ¬åœ°å¼€å‘ç¯å¢ƒ**
- **ä½ç½®**: `backend/chat_data/` å’Œ `chat_data/`
- **æ ¼å¼**: JSONæ–‡ä»¶

### **æ•°æ®åº“å­˜å‚¨** (å·²å¯ç”¨)
- **ä½ç½®**: PostgreSQLæ•°æ®åº“ (Renderæ‰˜ç®¡)
- **è¡¨**: `chat_sessions`, `chat_messages`

---

## ğŸ” æ•°æ®æ ¼å¼

### **æ—§æ ¼å¼** (å‘åå…¼å®¹)
```json
{
  "user": "ç”¨æˆ·æ¶ˆæ¯",
  "assistant": "AIå›å¤",
  "timestamp": "å“ˆå¸Œå€¼"
}
```

### **æ–°æ ¼å¼** (å½“å‰ä½¿ç”¨)
```json
{
  "role": "user/assistant",
  "content": "æ¶ˆæ¯å†…å®¹",
  "timestamp": "2025-09-30T08:14:15.005512"
}
```

---

## ğŸ’¡ æç¤º

1. **ä¼šè¯ID**: å¯ä»¥æ˜¯UUIDæ ¼å¼ (å¦‚ `4e37bb85-...`) æˆ–è‡ªå®šä¹‰å­—ç¬¦ä¸² (å¦‚ `test`)
2. **ç”¨æˆ·å**: æ³¨å†Œæ—¶åˆ›å»ºçš„ç”¨æˆ·å
3. **æ—¶é—´æˆ³**: ISO 8601æ ¼å¼ æˆ– å“ˆå¸Œå€¼ (æ—§æ ¼å¼)

---

## ğŸ› ï¸ é«˜çº§æŸ¥è¯¢

### **ä½¿ç”¨Pythonè„šæœ¬**
```python
import requests

# æŸ¥çœ‹æ‰€æœ‰ä¼šè¯
r = requests.get('https://decision-assistant-backend.onrender.com/api/admin/chats')
data = r.json()

for session_id, chat in data['chats'].items():
    print(f"ä¼šè¯: {session_id}, æ¶ˆæ¯æ•°: {chat['total_messages']}")
```

### **ä½¿ç”¨PowerShell**
```powershell
# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
$users = Invoke-RestMethod -Uri "https://decision-assistant-backend.onrender.com/api/admin/users"
$users | ConvertTo-Json -Depth 5

# æŸ¥çœ‹æ‰€æœ‰èŠå¤©
$chats = Invoke-RestMethod -Uri "https://decision-assistant-backend.onrender.com/api/admin/chats"
$chats | ConvertTo-Json -Depth 5
```

---

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

âš ï¸ **è­¦å‘Š**: Admin APIç›®å‰æ²¡æœ‰è®¤è¯ä¿æŠ¤ï¼Œå»ºè®®ï¼š

1. **æ·»åŠ è®¤è¯ä¸­é—´ä»¶**
2. **é™åˆ¶IPè®¿é—®**
3. **ä½¿ç”¨APIå¯†é’¥**
4. **éƒ¨ç½²æ—¶é…ç½®é˜²ç«å¢™è§„åˆ™**

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç”¨æˆ·ç®¡ç†å’Œåˆ†ææ–¹æ¡ˆ.md](./ç”¨æˆ·ç®¡ç†å’Œåˆ†ææ–¹æ¡ˆ.md)
- [ç”¨æˆ·è®¤è¯åŠŸèƒ½è¯´æ˜.md](./ç”¨æˆ·è®¤è¯åŠŸèƒ½è¯´æ˜.md)
- [TECHNICAL_SUMMARY.md](./TECHNICAL_SUMMARY.md)

---

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæœ‰äº›ä¼šè¯IDæ˜¯UUIDï¼Œæœ‰äº›æ˜¯å­—ç¬¦ä¸²ï¼Ÿ
A: UUIDæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå­—ç¬¦ä¸²æ˜¯æµ‹è¯•æ—¶æ‰‹åŠ¨æŒ‡å®šçš„ã€‚

### Q: æ—§æ ¼å¼å’Œæ–°æ ¼å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: æ–°æ ¼å¼æ›´æ ‡å‡†åŒ–ï¼Œæ”¯æŒæ›´å¤šè§’è‰²ç±»å‹å’Œæ›´ç²¾ç¡®çš„æ—¶é—´æˆ³ã€‚

### Q: å¦‚ä½•åˆ é™¤æŸä¸ªä¼šè¯ï¼Ÿ
A: ç›®å‰éœ€è¦æ‰‹åŠ¨åˆ é™¤ `chat_data/` ç›®å½•ä¸‹çš„å¯¹åº”JSONæ–‡ä»¶ã€‚

---

**æœ€åæ›´æ–°**: 2025-10-17

